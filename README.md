spring boot demo

本地swagger访问地址：http://127.0.0.1:8081/demo/swagger-ui.html


实现AOP的切面主要有以下几个要素:
@Aspect注解将一个java类定义为切面
@Pointcut定义一个切入点，可以是一个正则表达式
根据需要在切入点不同位置的切入内容：
    @Before：在切入点开始处切入内容
    @After：在切入点结束位置切入内容
    @AfterReturning：在切入点return内容之后切入内容(可以用来对返回值做一些加工处理)
    @Around：在切入点前后切入内容，并可以控制何时执行切入点自身的内容
    @AfterThrowing：用来处理当切入内容部分抛出异常之后的处理逻辑
   
execution表达式：
例如定义切入点表达式 execution (* com.sample.service.impl..*. *(..))
execution()是最常用的切点函数，其语法如下所示：
整个表达式可以分为五个部分：
1、execution(): 表达式主体。
2、第一个*号：表示返回类型， *号表示所有的类型。
3、包名：表示需要拦截的包名，后面的两个句点表示当前包和当前包的所有子包，com.sample.service.impl包、子孙包下所有类的方法。
4、第二个*号：表示类名，*号表示所有的类。
5、*(..):最后这个星号表示方法名，*号表示所有的方法，后面括弧里面表示方法的参数，两个句点表示任何参数
    
    
APO切面的优先级
通过@Order(i)注解，i的值越小，优先级越高
总结：
在切入点前的操作，按order的值由小到大执行
在切入点后的操作，按order的值由大到小执行


`***` Spring AOP 的根本所在：
Spring AOP 就是通过 CGLIB 来动态地生成代理对象，这个代理对象就是所谓的 AOP 代理，而 AOP 代理的方法则通过在目标对象的切入点动态地织入增强处理，从而完成了对目标方法的增强。